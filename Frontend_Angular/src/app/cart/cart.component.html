<div class="cart-container">
    <h1>Your Cart</h1>

    <div class="empty-cart" *ngIf="cartItems.length === 0">
        <p>Your cart is empty.</p>
        <a routerLink="/shop" class="btn-shop">Go Shopping</a>
    </div>

    <div class="cart-content" *ngIf="cartItems.length > 0">
        <div class="cart-items">
            <div class="cart-item" *ngFor="let item of cartItems">
                <img [src]="item.image" [alt]="item.name" class="item-image">
                <div class="item-details">
                    <h3>{{ item.name }}</h3>
                    <p class="item-price">${{ item.price | number:'1.2-2' }}</p>
                </div>
                <div class="item-actions">
                    <div class="quantity-controls">
                        <button (click)="updateQuantity(item, -1)">-</button>
                        <span>{{ item.quantity }}</span>
                        <button (click)="updateQuantity(item, 1)">+</button>
                    </div>
                    <button class="btn-remove" (click)="removeItem(item)">Remove</button>
                </div>
                <div class="item-total">
                    ${{ item.price * item.quantity | number:'1.2-2' }}
                </div>
            </div>
        </div>

        <div class="cart-summary">
            <h2>Total</h2>
            <div class="total-amount">${{ total | number:'1.2-2' }}</div>
            <button class="btn-checkout" (click)="proceedToCheckout()" *ngIf="!showCheckout">Proceed to
                Checkout</button>
        </div>
    </div>

    <div id="checkout-section" class="checkout-section" *ngIf="showCheckout">
        <h2>Checkout (Dummy)</h2>
        <form (ngSubmit)="submitOrder()" #form="ngForm">
            <div class="form-group">
                <label>Full Name</label>
                <input type="text" [(ngModel)]="checkoutForm.name" name="name" required>
            </div>
            <div class="form-group">
                <label>Email</label>
                <input type="email" [(ngModel)]="checkoutForm.email" name="email" required>
            </div>

            <h3>Payment Details</h3>
            <div class="form-group">
                <label>Name on Card</label>
                <input type="text" [(ngModel)]="checkoutForm.cardName" name="cardName" required>
            </div>
            <div class="form-group">
                <label>Card Number</label>
                <input type="text" [(ngModel)]="checkoutForm.cardNumber" name="cardNumber"
                    placeholder="0000 0000 0000 0000" required>
            </div>
            <div class="form-row">
                <div class="form-group">
                    <label>Expiry</label>
                    <input type="text" [(ngModel)]="checkoutForm.expiry" name="expiry" placeholder="MM/YY" required>
                </div>
                <div class="form-group">
                    <label>CVV</label>
                    <input type="text" [(ngModel)]="checkoutForm.cvv" name="cvv" placeholder="123" required>
                </div>
            </div>

            <button type="submit" class="btn-place-order" [disabled]="!form.valid">Place Order</button>
        </form>
    </div>
</div>